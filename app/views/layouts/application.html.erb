<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>WebSpecimanager</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="content-language" content="ja">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="<%= asset_path('favicon.ico') %>" type="image/x-icon">
    <link rel="apple-touch-icon" href="<%= asset_path('favicon.ico') %>">
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="flex h-screen" data-controller="sidebar">
    <!-- „Çµ„Ç§„Éâ„Éê„Éº -->
    <div id="sidebar" class="shadow-xl text-black w-50 space-y-2 py-7 px-2 sidebar-open fixed top-10 left-0 bottom-0 transition-transform ease-in-out duration-300 z-40" data-sidebar-target="sidebar">

      <div class="relative">
        <%= link_to root_path, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">üñ•Ô∏è</span>
          <span class="text-link text-sm">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</span>
          <!-- „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to tours_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">üöó</span>
          <span class="text-link text-sm">Êé°ÈõÜË°å</span>
          <!-- „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            Êé°ÈõÜË°å
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to collection_settings_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">‚öô</span>
          <span class="text-link text-sm">„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥</span>
          <!-- „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥
          </span>
        <% end %>
      </div>
    </div>

    <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
    <div class="content flex-1 flex flex-col transition-all duration-300" id="main-content">
      <!-- „Éà„ÉÉ„Éó„Éê„Éº -->
      <div class="bg-[#f8fafb] shadow-lg flex justify-between items-center px-2 py-2 fixed top-0 left-0 w-full z-50">
        <button data-action="click->sidebar#toggle" class="text-black font-black">‚ò∞</button>
        <div class="flex items-center font-black">
          <!-- „Ç¢„Ç§„Ç≥„É≥ -->
          <img src="<%= asset_path('logo192.png') %>" alt="„Ç¢„Ç§„Ç≥„É≥" class="h-8 w-8 mr-2">
          <span class="text-xs sm:text-lg">WebSpecimanager</span>
        </div>
        <div class="text-xs normal-button px-2 py-1">
          <% unless session['credentials'] %>
            <%= button_to '„É≠„Ç∞„Ç§„É≥', '/auth/auth0', params: {prompt: 'login'}, data: {turbo: "false"} %>
          <% else %>
            <%= button_to '„É≠„Ç∞„Ç¢„Ç¶„Éà', '/auth/logout', method: :get, data: { turbo: false } %>
          <% end %>
        </div>
      </div>

      <!-- „Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çæ„Éº„É≥ -->
      <div class="flex-1 pr-4 mt-20" id="main-content">
        <div class="mb-8">
          <%= turbo_frame_tag "content-zone" do %>
            <%= yield %>
          <% end %>
        </div?
      </div>
    </div>
  </body>
</html>
