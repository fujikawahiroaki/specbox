<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>WebSpecimanager</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="content-language" content="ja">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="<%= asset_path('favicon.ico') %>" type="image/x-icon">
    <link rel="apple-touch-icon" href="<%= asset_path('favicon.ico') %>">
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="flex h-screen" data-controller="sidebar">
    <!-- サイドバー -->
    <div id="sidebar" class="shadow-xl text-black w-50 space-y-2 py-7 px-2 sidebar-open fixed top-10 left-0 bottom-0 transition-transform ease-in-out duration-300 z-40" data-sidebar-target="sidebar">

      <div class="relative">
        <%= link_to root_path, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">🖥️</span>
          <span class="text-link text-sm">ダッシュボード</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            ダッシュボード
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to specimens_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">🐞</span>
          <span class="text-link text-sm">標本</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            標本
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to custom_taxa_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">🏷️</span>
          <span class="text-link text-sm">カスタム分類</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            カスタム分類
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>


      <div class="relative">
        <%= link_to default_taxa_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">🧬</span>
          <span class="text-link text-sm">デフォルト分類</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            デフォルト分類
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to collect_points_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">🌲</span>
          <span class="text-link text-sm">採集地点</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            採集地点
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to tours_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">🚗</span>
          <span class="text-link text-sm">採集行</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            採集行
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to collection_settings_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">⚙</span>
          <span class="text-link text-sm">コレクション</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            コレクション
          </span>
        <% end %>
      </div>

      <div class="my-2 h-[1px] bg-gradient-to-r from-gray-300 via-gray-500 to-gray-300"></div>

      <div class="relative">
        <%= link_to specimen_labels_url, class: "flex items-center space-x-2 relative",
          data: {
            controller: "tooltip",
            action: "mouseover->tooltip#show mouseout->tooltip#hide",
            turbo_frame: "content-zone",
            turbo_action: "advance"
          } do %>
          <span class="emoji text-white text-xl">📝</span>
          <span class="text-link text-sm">ラベル</span>
          <!-- ツールチップ -->
          <span data-tooltip-target="tooltip"
                class="absolute hidden bg-gray-800 text-white text-xs rounded p-1 z-50 pointer-events-none">
            ラベル
          </span>
        <% end %>
      </div>
    </div>

    <!-- メインコンテンツ -->
    <div class="content flex-1 flex flex-col transition-all duration-300" id="main-content">
      <!-- トップバー -->
      <div class="bg-[#f8fafb] shadow-lg flex justify-between items-center px-2 py-2 fixed top-0 left-0 w-full z-50">
        <button data-action="click->sidebar#toggle" class="text-black font-black">☰</button>
        <div class="flex items-center font-black">
          <!-- アイコン -->
          <img src="<%= asset_path('logo192.png') %>" alt="アイコン" class="h-8 w-8 mr-2">
          <span class="text-xs sm:text-lg">WebSpecimanager</span>
        </div>
        <div class="text-xs normal-button px-2 py-1">
          <% unless session['credentials'] %>
            <%= button_to 'ログイン', '/auth/auth0', params: {prompt: 'login'}, data: {turbo: "false"} %>
          <% else %>
            <%= button_to 'ログアウト', '/auth/logout', method: :get, data: { turbo: false } %>
          <% end %>
        </div>
      </div>

      <!-- コンテンツゾーン -->
      <div class="flex-1 pr-4 mt-20" id="main-content">
        <div class="mb-8">
          <%= turbo_frame_tag "content-zone" do %>
            <%= yield %>
          <% end %>
        </div?
      </div>
    </div>
  </body>
</html>
