<%= turbo_frame_tag "content-zone" do %>
  <div class="w-full">

    <% content_for :institution_code, "collect_points" %>

    <div class="flex justify-between items-center mb-2">
      <h1 class="font-bold text-xl">Êé°ÈõÜÂú∞ÁÇπüå≤</h1>

      <div>
        <% if notice.present? %>
          <p class="left-1/2 py-2 px-3 bg-green-50 mb-5 text-green-500 text-sm rounded-lg inline-block z-50" id="flash-message" data-controller="flash"><%= notice %></p>
        <% end %>
        <% if alert.present? %>
          <p class="left-1/2 py-2 px-3 bg-red-50 mb-5 text-red-500 text-sm rounded-lg inline-block z-50" id="flash-message" data-controller="flash"><%= alert %></p>
        <% end %>
      </div>

      <%= link_to "‰ΩúÊàê", new_collect_point_path,
        class: "text-sm rounded-lg py-3 px-5 submit-button text-white block font-medium",
        data: { turbo_frame: "content-zone", turbo_action: "advance" }
      %>
    </div>

    <div
      data-controller="filter-choice"
      data-filter-choice-model-name-value="collect_point"
      data-default-visible-fields="<%= ['all_place_name_cont'].to_json %>"
    >
      <div>
        <div class="relative inline-block">
          <!-- „Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åß„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„Çí„Éà„Ç∞„É´ -->
          <button class="normal-button text-sm px-2 py-1 rounded-md border border-gray" data-action="click->filter-choice#toggleDropdown" data-filter-choice-target="toggleButton">
            Ê§úÁ¥¢È†ÖÁõÆ„ÇíÈÅ∏Êäû ‚ñº
          </button>

          <!-- „Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº -->
          <div class="text-xs absolute top-full left-0 normal-button shadow-lg border p-2 hidden bg-[#E9F5F8] z-50 whitespace-nowrap"
               data-filter-choice-target="dropdown"
               data-action="click->filter-choice#keepDropdownOpen">
               <% columns = {
                 all_place_name_cont: 'Âú∞ÂêçÁ≥ªÈ†ÖÁõÆ„ÅÇ„ÅÑ„Åæ„ÅÑ',
                 contient_cont: 'Â§ßÈô∏(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 contient_eq: 'Â§ßÈô∏(ÂÆåÂÖ®‰∏ÄËá¥)',
                 island_group_cont: 'Â≥∂Áæ§(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 island_group_eq: 'Â≥∂Áæ§(ÂÆåÂÖ®‰∏ÄËá¥)',
                 island_cont: 'Â≥∂(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 island_eq: 'Â≥∂(ÂÆåÂÖ®‰∏ÄËá¥)',
                 country_cont: 'ÂõΩÂêç„Ç≥„Éº„Éâ(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 country_eq: 'ÂõΩÂêç„Ç≥„Éº„Éâ(ÂÆåÂÖ®‰∏ÄËá¥)',
                 state_provice_cont: 'Â∑û„ÉªÁúå(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 state_provice_eq: 'Â∑û„ÉªÁúå(ÂÆåÂÖ®‰∏ÄËá¥)',
                 county_cont: 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 county_eq: 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫(ÂÆåÂÖ®‰∏ÄËá¥)',
                 municipality_cont: 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 municipality_eq: 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç(ÂÆåÂÖ®‰∏ÄËá¥)',
                 japanese_place_name_cont: 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 japanese_place_name_eq: 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®(ÂÆåÂÖ®‰∏ÄËá¥)',
                 japanese_place_name_detail_cont: 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 japanese_place_name_detail_eq: 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞(ÂÆåÂÖ®‰∏ÄËá¥)',
                 verbatim_locality_cont: 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé(ÈÉ®ÂàÜ‰∏ÄËá¥)',
                 verbatim_locality_eq: 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé(ÂÆåÂÖ®‰∏ÄËá¥)',
                 coordinate_precision_eq: 'ÂçäÂæÑ(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)',
                 coordinate_precision_gteq: 'ÂçäÂæÑ(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)',
                 coordinate_precision_lteq: 'ÂçäÂæÑ(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)',
                 minimum_elevation_eq: 'ÊúÄ‰ΩéÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)',
                 minimum_elevation_gteq: 'ÊúÄ‰ΩéÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)',
                 minimum_elevation_lteq: 'ÊúÄ‰ΩéÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)',
                 maximum_elevation_eq: 'ÊúÄÈ´òÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)',
                 maximum_elevation_gteq: 'ÊúÄÈ´òÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)',
                 maximum_elevation_lteq: 'ÊúÄÈ´òÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)',
                 minimum_depth_eq: 'ÊúÄÂ∞èÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)',
                 minimum_depth_gteq: 'ÊúÄÂ∞èÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)',
                 minimum_depth_lteq: 'ÊúÄÂ∞èÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)',
                 maximum_depth_eq: 'ÊúÄÂ§ßÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)',
                 maximum_depth_gteq: 'ÊúÄÂ§ßÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)',
                 maximum_depth_lteq: 'ÊúÄÂ§ßÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)',
                 created_at_date_eq: '‰ΩúÊàêÊó•ÊôÇ(Êó•‰ªò‰∏ÄËá¥)',
                 note_cont: 'ÂÇôËÄÉ(ÈÉ®ÂàÜ‰∏ÄËá¥)'
              } %>
              <% columns.each do |col, name| %>
                <div>
                  <label>
                    <input
                      type="checkbox"
                      name="columns[]"
                      class="m-1"
                      data-action="change->filter-choice#updateFilter"
                      value="<%= col %>"
                    >
                    <%= name %>
                  </label>
                </div>
              <% end %>
            </div>
          </div>
        </div>

        <div class="border border-gray-300 rounded-lg mb-4 p-2 text-sm overflow-x-auto shadow-lg rounded-lg">
          <%= search_form_for @search,
            html: {
              data: {
                turbo_frame: "data_table",
                controller: "incremental-search",
                action: "input->incremental-search#submit",
                turbo_action: "advance"
              }
            } do |form| %>
            <div class="my-2">
              <%= form.submit class: "text-sm rounded-lg py-1 px-2 normal-button inline-block cursor-pointer", data: {turbo_action: "advance"} %>
              <%= link_to '„ÇØ„É™„Ç¢', url_for + "?cancel_filter=true", class: "text-sm rounded-lg py-1 px-2 normal-button inline-block cursor-pointer", data: {turbo_action: "advance", turbo_prefetch: false} %>
            </div>

            <div class="flex flex-wrap gap-4">
              <div class="w-[200px] hidden" data-filter-choice-field id="all_place_name_cont">
                <%= form.label 'Âú∞ÂêçÁ≥ªÈ†ÖÁõÆ„ÅÇ„ÅÑ„Åæ„ÅÑ', class: "block" %>
                <%= form.search_field :all_place_name_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="contient_cont">
                <%= form.label 'Â§ßÈô∏(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :contient_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="contient_eq">
                <%= form.label 'Â§ßÈô∏(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :contient_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="island_group_cont">
                <%= form.label 'Â≥∂Áæ§(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :island_group_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="island_group_eq">
                <%= form.label 'Â≥∂Áæ§(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :island_group_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="island_cont">
                <%= form.label 'Â≥∂(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :island_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="island_eq">
                <%= form.label 'Â≥∂(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :island_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="country_cont">
                <%= form.label 'ÂõΩÂêç„Ç≥„Éº„Éâ(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :country_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="country_eq">
                <%= form.label 'ÂõΩÂêç„Ç≥„Éº„Éâ(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :country_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="state_provice_cont">
                <%= form.label 'Â∑û„ÉªÁúå(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :state_provice_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="state_provice_eq">
                <%= form.label 'Â∑û„ÉªÁúå(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :state_provice_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="county_cont">
                <%= form.label 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :county_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="county_cont_eq">
                <%= form.label 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :county_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="municipality_cont">
                <%= form.label 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :municipality_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="municipality_eq">
                <%= form.label 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :municipality_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="japanese_place_name_cont">
                <%= form.label 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :japanese_place_name_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="japanese_place_name_eq">
                <%= form.label 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :japanese_place_name_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="japanese_place_name_detail_cont">
                <%= form.label 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :japanese_place_name_detail_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="japanese_place_name_detail_eq">
                <%= form.label 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :japanese_place_name_detail_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="verbatim_locality_cont">
                <%= form.label 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :verbatim_locality_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="verbatim_locality_eq">
                <%= form.label 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé(ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :verbatim_locality_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="coordinate_precision_eq">
                <%= form.label 'ÂçäÂæÑ(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :coordinate_precision_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="coordinate_precision_gteq">
                <%= form.label 'ÂçäÂæÑ(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)', class: "block" %>
                <%= form.search_field :coordinate_precision_gteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="coordinate_precision_lteq">
                <%= form.label 'ÂçäÂæÑ(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)', class: "block" %>
                <%= form.search_field :coordinate_precision_lteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="minimum_elevation_eq_precision_eq">
                <%= form.label 'ÊúÄ‰ΩéÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :minimum_elevation_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="minimum_elevation_gteq">
                <%= form.label 'ÊúÄ‰ΩéÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)', class: "block" %>
                <%= form.search_field :minimum_elevation_gteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="minimum_elevation_lteq">
                <%= form.label 'ÊúÄ‰ΩéÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)', class: "block" %>
                <%= form.search_field :minimum_elevation_lteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="maximum_elevation_eq">
                <%= form.label 'ÊúÄÈ´òÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :maximum_elevation_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="maximum_elevation_gteq">
                <%= form.label 'ÊúÄÈ´òÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)', class: "block" %>
                <%= form.search_field :maximum_elevation_gteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="maximum_elevation_lteq">
                <%= form.label 'ÊúÄÈ´òÊ®ôÈ´ò(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)', class: "block" %>
                <%= form.search_field :maximum_elevation_lteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="minimum_depth_eq">
                <%= form.label 'ÊúÄÂ∞èÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :minimum_depth_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="minimum_depth_gteq">
                <%= form.label 'ÊúÄÂ∞èÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)', class: "block" %>
                <%= form.search_field :minimum_depth_gteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="minimum_depth_lteq">
                <%= form.label 'ÊúÄÂ∞èÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)', class: "block" %>
                <%= form.search_field :minimum_depth_lteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="maximum_depth_eq">
                <%= form.label 'ÊúÄÂ§ßÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´ÂÆåÂÖ®‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :maximum_depth_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="maximum_depth_gteq">
                <%= form.label 'ÊúÄÂ§ßÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ä)', class: "block" %>
                <%= form.search_field :maximum_depth_gteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
              <div class="w-[200px] hidden" data-filter-choice-field id="maximum_depth_lteq">
                <%= form.label 'ÊúÄÂ§ßÊ∞¥Ê∑±(ÊåáÂÆö„É°„Éº„Éà„É´‰ª•‰∏ã)', class: "block" %>
                <%= form.search_field :maximum_depth_lteq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[150px] hidden" data-filter-choice-field id="created_at_date_eq">
                <%= form.label '‰ΩúÊàêÊó•ÊôÇ(Êó•‰ªò‰∏ÄËá¥)', class: "block" %>
                <%= form.date_field :created_at_date_eq, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>

              <div class="w-[200px] hidden" data-filter-choice-field id="note_cont">
                <%= form.label 'ÂÇôËÄÉ(ÈÉ®ÂàÜ‰∏ÄËá¥)', class: "block" %>
                <%= form.search_field :note_cont, class: "text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full" %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <div data-controller="bulk-action" data-bulk-action-model-name-value="collect_point">
      <div data-controller="validation">
        <div
          data-controller="bulk-update-choice"
          data-bulk-update-choice-model-name-value="collect_point"
          data-default-bulk-update-choice-fields="<%= [].to_json %>"
        >
          <div class="border border-gray-300 rounded-lg mb-4 p-2 text-sm shadow-lg rounded-lg">
            <div class="text-xs">
              <p class="text-sm text-red-600 font-medium">‚ö†‰∏ÄÊã¨Êìç‰Ωú„ÅØÂç±Èô∫„Åß„Åô„ÄÇ</p>
              <p>Êóß„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØË§áÊï∞„Éö„Éº„Ç∏„ÅÆ‰∏ÄÊã¨ÈÅ∏Êäû„ÅåÂèØËÉΩ„Åß„Åó„Åü„Åå„ÄÅ„Åì„ÅÆÊñ∞„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØÂÆâÂÖ®Á¢∫‰øù„ÅÆ„Åü„ÇÅ„ÄÅÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„Å´Ë°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Éá„Éº„Çø„ÅÆ„Åø„ÇíÈÅ∏ÊäûÂèØËÉΩ„Å®„Åó„Åæ„Åó„Åü„ÄÇ</p>
              <p>„Éö„Éº„Ç∏„ÅÆÁßªÂãï„ÇÑÊ§úÁ¥¢„Å´„Çà„Å£„Å¶ÈÅ∏Êäû„ÅØ„É™„Çª„ÉÉ„Éà„Åï„Çå„Åæ„Åô„ÄÇ</p>
              <p>„Éá„Éº„Çø„ÇíÈÅ∏Êäû„Åô„Çã„Åæ„Åß‰∏ÄÊã¨Êõ¥Êñ∞/‰∏ÄÊã¨ÂâäÈô§„Éú„Çø„É≥„ÅØÊúâÂäπ„Å´„Å™„Çä„Åæ„Åõ„Çì„ÄÇ„Åæ„Åü„ÄÅ‰∏ÄÊã¨Êõ¥Êñ∞„Éú„Çø„É≥„ÅÆÂ†¥Âêà„ÅØ„ÄÅÈÅ∏Êäû„Åó„ÅüÊõ¥Êñ∞ÂØæË±°È†ÖÁõÆ„Å∏„ÅÆÂÖ•Âäõ„ÅåÊ§úË®º„Å´ÂêàÊ†º„Åô„Çã„Åæ„ÅßÊúâÂäπ„Å´„Å™„Çä„Åæ„Åõ„Çì„ÄÇ
            </div>

            <p class="m-2">ÁèæÂú®„ÅÆÈÅ∏Êäû‰ª∂Êï∞: <span data-bulk-action-target="selectRowCount">0</span></p>

            <hr class="border border-gray-300">

            <%= form_with(
              url: bulk_delete_collect_points_path,
              method: :delete,
              data: {
                action: "submit->bulk-action#bulkDelete",
                turbo_frame: "data_table",
                turbo_action: "advance"
              }
            ) do |form| %>
              <%= form.submit(
                "ÈÅ∏Êäû„Éá„Éº„Çø„Çí‰∏ÄÊã¨ÂâäÈô§",
                class: "text-sm rounded-lg my-2 py-1 px-2 denger text-white inline-block cursor-pointer",
                data: {
                  bulk_action_target: "bulkDeleteButton",
                  turbo_action: "advance",
                  action: "submit->bulk-action#bulkDelete",
                  turbo_confirm: "‰∏ÄÊã¨ÂâäÈô§„ÅØÂç±Èô∫„Å™Êìç‰Ωú„Åß„ÅôÔºÅ\nÊú¨ÂΩì„Å´ÂÆüË°å„Åó„Åæ„Åô„ÅãÔºü"
                }
              )%>
              <%= form.hidden_field :bulk_ids, value: "", data: { bulk_action_target: "bulkDeleteIds" } %>
            <% end %>

            <hr class="mb-2 border border-gray-300">

            <div class="relative inline-block">
              <!-- „Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åß„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„Çí„Éà„Ç∞„É´ -->
              <button class="normal-button text-sm px-2 py-1 rounded-md border border-gray" data-action="click->bulk-update-choice#toggleDropdown" data-bulk-update-choice-target="toggleButton">
                ‰∏ÄÊã¨Êõ¥Êñ∞È†ÖÁõÆ„ÇíÈÅ∏Êäû ‚ñº
              </button>
              <!-- „Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº -->
              <div class="text-xs absolute top-full left-0 normal-button shadow-lg border p-2 hidden bg-[#E9F5F8] z-50 whitespace-nowrap"
                   data-bulk-update-choice-target="dropdown"
                   data-action="click->bulk-update-choice#keepDropdownOpen"
              >
              <% columns = {
                 contient: 'Â§ßÈô∏',
                 island_group: 'Â≥∂Áæ§',
                 island: 'Â≥∂',
                 country: 'ÂõΩÂêç„Ç≥„Éº„Éâ',
                 state_provice: 'Â∑û„ÉªÁúå',
                 county: 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫',
                 municipality: 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç',
                 japanese_place_name: 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®',
                 japanese_place_name_detail: 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞',
                 verbatim_locality: 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé',
                 coordinate_precision: 'ÂçäÂæÑ',
                 minimum_elevation: 'ÊúÄ‰ΩéÊ®ôÈ´ò',
                 maximum_elevation: 'ÊúÄÈ´òÊ®ôÈ´ò',
                 minimum_depth: 'ÊúÄÂ∞èÊ∞¥Ê∑±',
                 maximum_depth: 'ÊúÄÂ§ßÊ∞¥Ê∑±',
                 note: 'ÂÇôËÄÉ'
              } %>
                <% columns.each do |col, name| %>
                  <div>
                    <label>
                      <input
                        type="checkbox"
                        name="bulk-update-fields[]"
                        data-action="change->bulk-update-choice#updateChoice change->validation#toggleSubmitButton"
                        class="m-1"
                        value="<%= col %>"
                      >
                      <%= name %>
                    </label>
                  </div>
                <% end %>
              </div>
            </div>

            <%= form_with(
              url: bulk_update_collect_points_path,
              method: :patch,
              data: {
                action: "submit->bulk-action#bulkUpdate input->bulk-action#zeroSelectDisabledBulkUpdate",
                turbo_frame: "data_table",
                turbo_action: "advance"
              }
            ) do |form| %>
              <%= form.submit(
                "ÈÅ∏Êäû„Éá„Éº„Çø„Çí‰∏ÄÊã¨Êõ¥Êñ∞",
                class: "text-sm rounded-lg my-2 py-1 px-2 submit-button text-white cursor-pointer",
                data: {
                  bulk_action_target: "bulkUpdateButton",
                  validation_target: "submit",
                  turbo_action: "advance",
                  action: "submit->bulk-action#bulkUpdate",
                  turbo_confirm: "‰∏ÄÊã¨Êõ¥Êñ∞„ÅØÂç±Èô∫„Å™Êìç‰Ωú„Åß„ÅôÔºÅ\nÊú¨ÂΩì„Å´ÂÆüË°å„Åó„Åæ„Åô„ÅãÔºü"
                }
              )%>
              <%= form.hidden_field :bulk_ids, value: "", data: { bulk_action_target: "bulkIds" } %>
              <%= form.hidden_field :bulk_columns, value: "", data: { bulk_action_target: "bulkColumns" } %>
              <div class="flex flex-wrap gap-4">
                <div class="w-[200px]" data-bulk-update-choice-field id="contient">
                  <%= form.label 'Â§ßÈô∏', class: "block" %>
                  <%= form.text_field(
                    :contient,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "contient",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "20",
                      validation_message_length: "20ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="island_group">
                  <%= form.label 'Â≥∂Áæ§', class: "block" %>
                  <%= form.text_field(
                    :island_group,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "island_group",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "30",
                      validation_message_length: "30ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="island">
                  <%= form.label 'Â≥∂', class: "block" %>
                  <%= form.text_field(
                    :island,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "island",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "24",
                      validation_message_length: "24ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="country">
                  <%= form.label 'ÂõΩÂêç„Ç≥„Éº„Éâ', class: "block" %>
                  <%= form.text_field(
                    :country,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "country",
                      validation_required: "true",
                      validation_message_required: "ÂõΩÂêç„Ç≥„Éº„Éâ„ÅØÂøÖÈ†à„Åß„Åô",
                      validation_min_length: "2",
                      validation_max_length: "2",
                      validation_message_length: "2ÊñáÂ≠ó(ISO 3166-1Ê∫ñÊã†)„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="state_provice">
                  <%= form.label 'Â∑û„ÉªÁúå', class: "block" %>
                  <%= form.text_field(
                    :state_provice,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "state_provice",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "30",
                      validation_message_length: "30ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="county">
                  <%= form.label 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫', class: "block" %>
                  <%= form.text_field(
                    :county,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "county",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "30",
                      validation_message_length: "30ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="municipality">
                  <%= form.label 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç', class: "block" %>
                  <%= form.text_field(
                    :municipality,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "municipality",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "50",
                      validation_message_length: "50ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="japanese_place_name">
                  <%= form.label 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®', class: "block" %>
                  <%= form.text_field(
                    :japanese_place_name,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "japanese_place_name",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "14",
                      validation_message_length: "14ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="japanese_place_name_detail">
                  <%= form.label 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞', class: "block" %>
                  <%= form.text_field(
                    :japanese_place_name_detail,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "japanese_place_name_detail",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "50",
                      validation_message_length: "50ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="verbatim_locality">
                  <%= form.label 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé', class: "block" %>
                  <%= form.text_field(
                    :verbatim_locality,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "string",
                      name: "verbatim_locality",
                      validation_required: "false",
                      validation_min_length: "0",
                      validation_max_length: "200",
                      validation_message_length: "200ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="coordinate_precision">
                  <%= form.label 'ÂçäÂæÑ(m)', class: "block" %>
                  <%= form.number_field(
                    :coordinate_precision,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "decimal",
                      name: "coordinate_precision",
                      validation_required: "true",
                      validation_message_required: "ÂçäÂæÑ„ÅØÂøÖÈ†à„Åß„Åô",
                      validation_min_value: 0,
                      validation_message_integer: "0.0‰ª•‰∏ä„ÅÆÊï∞(Â∞èÊï∞ÂèØ)„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="minimum_elevation">
                  <%= form.label 'ÊúÄ‰ΩéÊ®ôÈ´ò(m)', class: "block" %>
                  <%= form.number_field(
                    :minimum_elevation,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "decimal",
                      name: "minimum_elevation",
                      validation_required: "true",
                      validation_message_required: "ÊúÄ‰ΩéÊ®ôÈ´ò„ÅØÂøÖÈ†à„Åß„Åô",
                      validation_min_value: 0,
                      validation_message_integer: "0.0‰ª•‰∏ä„ÅÆÊï∞(Â∞èÊï∞ÂèØ)„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="maximum_elevation">
                  <%= form.label 'ÊúÄÈ´òÊ®ôÈ´ò(m)', class: "block" %>
                  <%= form.number_field(
                    :maximum_elevation,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "decimal",
                      name: "maximum_elevation",
                      validation_required: "true",
                      validation_message_required: "ÊúÄÈ´òÊ®ôÈ´ò„ÅØÂøÖÈ†à„Åß„Åô",
                      validation_min_value: 0,
                      validation_message_integer: "0.0‰ª•‰∏ä„ÅÆÊï∞(Â∞èÊï∞ÂèØ)„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="minimum_depth">
                  <%= form.label 'ÊúÄÂ∞èÊ∞¥Ê∑±(m)', class: "block" %>
                  <%= form.number_field(
                    :minimum_depth,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "decimal",
                      name: "minimum_depth",
                      validation_required: "true",
                      validation_message_required: "ÊúÄÂ∞èÊ∞¥Ê∑±„ÅØÂøÖÈ†à„Åß„Åô",
                      validation_min_value: 0,
                      validation_message_integer: "0.0‰ª•‰∏ä„ÅÆÊï∞(Â∞èÊï∞ÂèØ)„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="maximum_depth">
                  <%= form.label 'ÊúÄÂ§ßÊ∞¥Ê∑±(m)', class: "block" %>
                  <%= form.number_field(
                    :maximum_depth,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {
                      validation_target: "input",
                      validation_type: "decimal",
                      name: "maximum_depth",
                      validation_required: "true",
                      validation_message_required: "ÊúÄÂ§ßÊ∞¥Ê∑±„ÅØÂøÖÈ†à„Åß„Åô",
                      validation_min_value: 0,
                      validation_message_integer: "0.0‰ª•‰∏ä„ÅÆÊï∞(Â∞èÊï∞ÂèØ)„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>

                <div class="w-[200px]" data-bulk-update-choice-field id="note">
                  <%= form.label 'ÂÇôËÄÉ', class: "block" %>
                  <%= form.text_area(
                    :note,
                    class: "form-input hidden text-sm block shadow rounded-md border border-gray-400 outline-none px-2 py-1 mt-2 w-full",
                    data: {validation_target: "input",
                      validation_type: "string",
                      name: "note",
                      validation_max_length: "200",
                      validation_message_length: "ÂÇôËÄÉ„ÅØ200ÊñáÂ≠ó‰ª•‰∏ã„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                    }
                  ) %>
                  <div data-validation-target="error" class="text-red-500 text-sm mt-2 hidden"></div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
        <div
          data-controller="table-column"
          data-mobile-default-visible-columns="<%= ['english_place_name', 'japanese_place_name_detail'].to_json %>"
          data-default-visible-columns="<%= ['country', 'island', 'state_provice', 'municipality', 'japanese_place_name_detail'].to_json %>"
          data-table-column-model-name-value="collect_point"
        >
          <div>
            <div class="relative inline-block">
              <!-- „Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åß„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„Çí„Éà„Ç∞„É´ -->
              <button class="normal-button text-sm px-2 py-1 rounded-md border border-gray" data-action="click->table-column#toggleDropdown" data-table-column-target="toggleButton">
                Ë°®Á§∫È†ÖÁõÆ„ÇíÈÅ∏Êäû ‚ñº
              </button>
              <span class="text-sm px-2">ÂàóÂêç„ÇØ„É™„ÉÉ„ÇØ„Åß‰∏¶„ÅπÊõø„Åà</span>

              <!-- „Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº -->
              <div class="text-xs absolute top-full left-0 normal-button shadow-lg border p-2 hidden bg-[#E9F5F8] z-50 whitespace-nowrap"
                   data-table-column-target="dropdown"
                   data-action="click->table-column#keepDropdownOpen">
                  <% columns = {
                     english_place_name: 'Ëã±Ë™ûÂú∞Âêç(Âêà‰Ωì)',
                     contient: 'Â§ßÈô∏',
                     island_group: 'Â≥∂Áæ§',
                     island: 'Â≥∂',
                     country: 'ÂõΩÂêç„Ç≥„Éº„Éâ',
                     state_provice: 'Â∑û„ÉªÁúå',
                     county: 'Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫',
                     municipality: 'Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç',
                     japanese_place_name: 'Êó•Êú¨Ë™ûÂú∞Âêç„É©„Éô„É´Áî®',
                     japanese_place_name_detail: 'Êó•Êú¨Ë™ûÂú∞ÂêçË©≥Á¥∞',
                     verbatim_locality: 'Êé°ÈõÜÂú∞„ÅÆË™¨Êòé',
                     coordinate_precision: 'ÂçäÂæÑ(m)',
                     minimum_elevation: 'ÊúÄ‰ΩéÊ®ôÈ´ò(m)',
                     maximum_elevation: 'ÊúÄÈ´òÊ®ôÈ´ò(m)',
                     minimum_depth: 'ÊúÄÂ∞èÊ∞¥Ê∑±(m)',
                     maximum_depth: 'ÊúÄÂ§ßÊ∞¥Ê∑±(m)',
                     note: 'ÂÇôËÄÉ',
                     created_at: '‰ΩúÊàêÊó•ÊôÇ'
                  } %>
                  <% columns.each do |col, name| %>
                    <div>
                      <label>
                        <input
                          type="checkbox"
                          name="columns[]"
                          class="m-1"
                          data-action="change->table-column#updateColumn"
                          value="<%= col %>"
                        >
                        <%= name %>
                      </label>
                    </div>
                  <% end %>
                </div>
              </div>
            </div>
            <%= turbo_frame_tag "data_table", data: {action: "turbo:frame-load->bulk-action#resetSelectDisplay"} do %>
              <%= paginate @collect_points %>
              <div class="overflow-x-auto shadow-lg rounded-lg">
                <table class="text-sm min-w-full table-auto border-collapse">
                  <thead data-table-column-target="tableHead" style="display: none">
                    <tr class="column-names">
                      <th class="text-sm px-4 py-2 border border-gray-300 text-center w-8">
                        <input
                          type="checkbox"
                          name="selectRows[]"
                          data-action="change->bulk-action#updateAllRow change->validation#toggleSubmitButton change->bulk-action#zeroSelectDisabledBulkUpdate"
                          data-bulk-action-target="selectAllRow"
                          id="selectAllRow"
                        >
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="english_place_name">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'contient', direction: toggle_direction('english_place_name')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Ëã±Ë™ûÂú∞Âêç(Âêà‰Ωì)
                          <%= sort_icon('english_place_name') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="contient">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'contient', direction: toggle_direction('contient')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Â§ßÈô∏
                          <%= sort_icon('contient') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="island_group">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'island_group', direction: toggle_direction('island_group')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Â≥∂Áæ§
                          <%= sort_icon('island_group') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="island">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'island', direction: toggle_direction('island')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Â≥∂
                          <%= sort_icon('island') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="country">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'country', direction: toggle_direction('country')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÂõΩÂêç„Ç≥„Éº„Éâ
                          <%= sort_icon('country') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="state_provice">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'state_provice', direction: toggle_direction('state_provice')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Â∑û„ÉªÁúå
                          <%= sort_icon('state_provice') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="county">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'county', direction: toggle_direction('county')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Êµ∑Â§ñ„Å´„Åä„Åë„ÇãÈÉ°„ÉªÂå∫
                          <%= sort_icon('county') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="municipality">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'municipality', direction: toggle_direction('municipality')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Â∏ÇÂêç‰ª•‰∏ã„ÅÆË©≥Á¥∞Âú∞Âêç
                          <%= sort_icon('municipality') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="japanese_place_name">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'japanese_place_name', direction: toggle_direction('japanese_place_name')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Êó•Êú¨Ë™ûÂú∞Âêç(„É©„Éô„É´Áî®)
                          <%= sort_icon('japanese_place_name') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="japanese_place_name_detail">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'japanese_place_name_detail', direction: toggle_direction('japanese_place_name_detail')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Êó•Êú¨Ë™ûÂú∞Âêç(Ë©≥Á¥∞)
                          <%= sort_icon('japanese_place_name_detail') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="verbatim_locality">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'verbatim_locality', direction: toggle_direction('verbatim_locality')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          Êé°ÈõÜÂú∞„ÅÆË™¨Êòé
                          <%= sort_icon('verbatim_locality') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="coordinate_precision">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'coordinate_precision', direction: toggle_direction('coordinate_precision')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÂçäÂæÑ(m)
                          <%= sort_icon('coordinate_precision') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="minimum_elevation">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'minimum_elevation', direction: toggle_direction('minimum_elevation')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÊúÄ‰ΩéÊ®ôÈ´ò(m)
                          <%= sort_icon('minimum_elevation') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="maximum_elevation">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'maximum_elevation', direction: toggle_direction('maximum_elevation')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÊúÄÈ´òÊ®ôÈ´ò(m)
                          <%= sort_icon('maximum_elevation') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="minimum_depth">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'minimum_depth', direction: toggle_direction('minimum_depth')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÊúÄÂ∞èÊ∞¥Ê∑±(m)
                          <%= sort_icon('minimum_depth') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left" data-table-column-visible-columns id="maximum_depth">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'maximum_depth', direction: toggle_direction('maximum_depth')), class: "font-bold flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÊúÄÂ§ßÊ∞¥Ê∑±(m)
                          <%= sort_icon('maximum_depth') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left hidden" data-table-column-visible-columns id="created_at">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'created_at', direction: toggle_direction('created_at')), class: "font-bold  flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ‰ΩúÊàêÊó•ÊôÇ
                          <%= sort_icon('created_at') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left hidden" data-table-column-visible-columns id="note">
                        <%= link_to collect_points_url_with_ranmemory(sort: 'note', direction: toggle_direction('note')), class: "font-bold  flex items-center", data: {turbo_action: "advance", turbo_prefetch: false} do %>
                          ÂÇôËÄÉ
                          <%= sort_icon('note') %>
                        <% end %>
                      </th>
                      <th class="px-4 py-2 border border-gray-300 text-left">Êìç‰Ωú</th>
                    </tr>
                  </thead>
                  <tbody data-table-column-target="tableBody" style="display: none">
                    <% @collect_points.each do |collect_point| %>
                      <tr id="collect_point_<%= collect_point.id %>" class="row-hover">
                        <!-- turbo_stream_from „ÅßÂâäÈô§ÂØæË±°„ÅÆË°å„ÇíÁõ£Ë¶ñ -->
                        <%= turbo_stream_from "collect_point_#{collect_point.id}" %>
                        <td class="text-sm px-4 py-1 border border-gray-300 text-center w-8">
                          <input
                            type="checkbox"
                            name="selectRows[]"
                            value="<%= collect_point.id %>"
                            data-bulk-action-target="selectRow"
                            data-action="change->bulk-action#updateSelectRow change->validation#toggleSubmitButton change->bulk-action#zeroSelectDisabledBulkUpdate"
                            id="bulk-action-select-row-<%= collect_point.id %>"
                          >
                        </td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="english_place_name"><%= collect_point.english_place_name %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="contient"><%= collect_point.contient %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="island_group"><%= collect_point.island_group %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="island"><%= collect_point.island %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="country"><%= collect_point.country %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="state_provice"><%= collect_point.state_provice %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="county"><%= collect_point.county %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="municipality"><%= collect_point.municipality %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="japanese_place_name"><%= collect_point.japanese_place_name %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="japanese_place_name_detail"><%= collect_point.japanese_place_name_detail %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="verbatim_locality"><%= collect_point.verbatim_locality %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="coordinate_precision"><%= collect_point.coordinate_precision %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="minimum_elevation"><%= collect_point.minimum_elevation %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="maximum_elevation"><%= collect_point.maximum_elevation %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="minimum_depth"><%= collect_point.minimum_depth %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300" data-table-column-visible-columns id="maximum_depth"><%= collect_point.maximum_depth %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300 hidden" data-table-column-visible-columns id="created_at"><%= collect_point.created_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300 hidden" data-table-column-visible-columns id="note"><%= collect_point.note %></td>
                        <td class="text-sm px-4 py-1 border border-gray-300">
                          <div class="flex gap-3 flex-col sm:flex-row">
                            <!-- Ë©≥Á¥∞„É™„É≥„ÇØ („Éö„Éº„Ç∏ÈÅ∑Áßª) -->
                            <%= link_to "Ë©≥Á¥∞", collect_point, class: "rounded-lg py-1 px-3 text-sm normal-button text-center",
                              data: { turbo_frame: "content-zone", turbo_action: "advance" } %>

                            <!-- Á∑®ÈõÜ„É™„É≥„ÇØ („Éö„Éº„Ç∏ÈÅ∑Áßª) -->
                            <%= link_to "Á∑®ÈõÜ", edit_collect_point_path(collect_point), class: "rounded-lg py-1 px-3 text-sm normal-button text-center",
                              data: { turbo_frame: "content-zone", turbo_action: "advance" } %>

                            <!-- Ë§áË£Ω„É™„É≥„ÇØ („Éö„Éº„Ç∏ÈÅ∑Áßª) -->
                            <%= link_to "Ë§áË£Ω", new_collect_point_path(base_id: collect_point.id), class: "rounded-lg py-1 px-3 text-sm normal-button text-center",
                              data: { turbo_frame: "content-zone", turbo_action: "advance" } %>
                            <!-- ÂâäÈô§„É™„É≥„ÇØ (Turbo Stream „ÅßÂâäÈô§) -->
                            <%= link_to "ÂâäÈô§", collect_point_path(collect_point), method: :delete, class: "rounded-lg py-1 px-3 denger text-white text-sm text-center",
                              data: { turbo_confirm: "Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„Åã?", turbo_method: :delete, turbo_stream: "collect_point_#{collect_point.id}" } %>
                          </div>
                        </td>
                      </tr>
                    <% end %>
                  </tbody>
                </table>
              </div>
              <% if @collect_points.empty? %>
                <div class="m-12">
                  „Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü
                </div>
              <% end %>
              <div data-table-column-target="paginate" class="hidden">
                <%= paginate @collect_points %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
